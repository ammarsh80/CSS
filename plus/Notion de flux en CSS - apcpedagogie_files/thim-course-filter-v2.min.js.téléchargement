const formOrderBy=document.querySelector(".thim-course-order select"),searchForm=document.querySelector("form.search-courses"),wpRestUrl=lpGlobalSettings.lp_rest_url,lpGetParamsUrl=e=>{let r={};return e.searchParams.toString().split("&").forEach((e,t)=>{const o=e.split("=");r[o[0]]=o[1]}),r},formFilter=document.querySelector("form.thim-course-filter");if(null!=formFilter){const e=e=>{const r=[];return e.forEach(e=>{e.checked&&r.push(e.value)}),r};formFilter.addEventListener("submit",async function(r){r.preventDefault();const t=formFilter.querySelectorAll('ul.list-cate-filter li.term-item input[name="course-cate-filter"]'),o=await e(t),s=formFilter.querySelectorAll('ul.list-price-filter li.price-item input[name="course-price-filter"]'),i=await e(s),c=formFilter.querySelectorAll('ul.list-instructor-filter li.instructor-item input[name="course-instructor-filter"]'),l=await e(c),a=new URL(document.location);a.searchParams.set("term_id",o.toString()||""),a.searchParams.set("c_authors",l.toString()||""),a.searchParams.set("sort_by",i.toString()||""),a.searchParams.delete("paged");const n=lpGetParamsUrl(a);window.lpArchiveRequestCourse({...n}),window.history.pushState("","",a)})}formOrderBy&&formOrderBy.addEventListener("change",function(){const e=new URL(document.location);e.searchParams.set("order_by",this.value||"");const r=lpGetParamsUrl(e);window.lpArchiveRequestCourse({...r}),window.history.pushState("","",e)}),wp.hooks.addAction("lp-js-get-courses","lp",function(e){const r=document.querySelector(".course-index");if(r){const t=r.querySelector("span");t&&void 0!==e.data.from_to&&(t.innerHTML=e.data.from_to)}});
